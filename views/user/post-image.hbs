<section class="intro-single">
    <div class="container">
        <div class="row">
            <div class="col-md-12 col-lg-8">
                <div class="title-single-box">
                    <h1 class="title-single" id="proTitle">Đăng sản phẩm</h1>
                </div>
            </div>
            <div class="col-md-12 col-lg-4">
                <nav aria-label="breadcrumb" class="breadcrumb-box d-flex justify-content-lg-end">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <a href="/">Trang chủ</a>
                        </li>
                        <li class="breadcrumb-item">
                            <a href="../">Sản phẩm</a>
                        </li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</section>


<section class="agent-single">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div id="property-single-carousel" class="swiper">
                            <div class="swiper-wrapper">
                                <div class="carousel-item-b swiper-slide">
                                    <img id="image1" style="width: 400px;height: 300px;object-fit: cover" src="/public/assets/img/agent-7.jpg" alt="Hình ảnh 1"href=" " >
                                    <button class="btn btn-b" name="{{pro.image1}}"  onclick="imagemodal(1)" id="uploadimage1">Upload ảnh này</button>
                                </div>
                                <div class="carousel-item-b swiper-slide">
                                    <img id="image2" style="width: 400px;height: 300px;object-fit: cover"src="/public/assets/img/agent-7.jpg" alt="Hình ảnh 2"href=" " >
                                    <button class="btn btn-b" onclick="imagemodal(2)"name="{{pro.image2}}"id="uploadimage2">Upload ảnh này</button>
                                </div>
                                <div   class="carousel-item-b swiper-slide">
                                    <img  id="image3" style="width: 400px;height: 300px;object-fit: cover"src="/public/assets/img/agent-7.jpg" alt="Hình ảnh 3"href=" ">
                                    <button  class="btn btn-b" onclick="imagemodal(3)"name="{{pro.image3}}"id="uploadimage3">Upload ảnh này</button>
                                </div>
                            </div>
                        </div>
                        <div class="property-single-carousel-pagination carousel-pagination">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12" style="display: flex; flex-direction: row; justify-content: center">
                <button  class="btn btn-b"  >Đăng sản phẩm</button>
            </div>
        </div>
    </div>
</section>

<div class="modal fade" id="imagemodal">
    <div class="modal-dialog" role="document">
        <div class="modal-content" >
            <div class="modal-header">
                <h4 class="modal-title">
                    <i class="fa fa-pencil"></i> &nbsp;Chỉnh sửa hình ảnh</h4>
                <button type="button" id="closebtn" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form action="/user/post-product/upload/4" method="post" enctype="multipart/form-data">
            <div class="modal-body" >
                <div class="form-group row">
                    <label class="control-label">Select File</label>
                    <input id="image" name="image" type="file" >
                </div>
            </div>

            <div class="modal-footer">
                <button id="cancelUploadImage"class="btn btn-danger">Quay lại</button>
                <button class="btn btn-success" type="submit" id="saveImage">Lưu </button>
            </div>
            </form>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>




{{#section 'css'}}
    <link rel="stylesheet" href="/public/assets/modal/successfully.css">
    <link href="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.2.5/css/fileinput.min.css" media="all" rel="stylesheet" type="text/css" />
{{/section}}
{{#section 'js'}}
    <script src="https://cdn.tiny.cloud/1/p1fwo21pu5sn0tp0vy4twc8487p3m1at2uussi5efjxyyylq/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
    <script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.2.5/js/fileinput.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.2.5/themes/fa/theme.min.js" integrity="sha512-ywJxJU8HX2ZyXikj/iM4gW2vWIhnGCjfehz9kMU0oqo0GDdr3w8E2E3DZlzgIBTNKU8jovkg09pWktiw0mOFeg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.2.5/js/locales/vi.min.js" integrity="sha512-Uq/oCjgDVhP8yiVZWU3F+XZcIwdIeMCgP43VG/Q/V3rqlhdpLS16CRknPqjKo4WUUM606zVchpiJuIkMJbQp7w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        tinymce.init({
            selector: '#des',
            /* width and height of the editor */
            width: "100%",
            height: 600,

            /* display statusbar */
            statusbar: true,

            /* plugin */
            plugins: [
                "advlist autolink link image lists charmap print preview hr anchor pagebreak",
                "searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking",
                "save table contextmenu directionality emoticons template paste textcolor"
            ],

            /* toolbar */
            toolbar: "insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullpage | forecolor backcolor emoticons",

            /* style */
            style_formats: [
                {title: "Headers", items: [
                        {title: "Header 1", format: "h1"},
                        {title: "Header 2", format: "h2"},
                        {title: "Header 3", format: "h3"},
                        {title: "Header 4", format: "h4"},
                        {title: "Header 5", format: "h5"},
                        {title: "Header 6", format: "h6"}
                    ]},
                {title: "Inline", items: [
                        {title: "Bold", icon: "bold", format: "bold"},
                        {title: "Italic", icon: "italic", format: "italic"},
                        {title: "Underline", icon: "underline", format: "underline"},
                        {title: "Strikethrough", icon: "strikethrough", format: "strikethrough"},
                        {title: "Superscript", icon: "superscript", format: "superscript"},
                        {title: "Subscript", icon: "subscript", format: "subscript"},
                        {title: "Code", icon: "code", format: "code"}
                    ]},
                {title: "Blocks", items: [
                        {title: "Paragraph", format: "p"},
                        {title: "Blockquote", format: "blockquote"},
                        {title: "Div", format: "div"},
                        {title: "Pre", format: "pre"}
                    ]},
                {title: "Alignment", items: [
                        {title: "Left", icon: "alignleft", format: "alignleft"},
                        {title: "Center", icon: "aligncenter", format: "aligncenter"},
                        {title: "Right", icon: "alignright", format: "alignright"},
                        {title: "Justify", icon: "alignjustify", format: "alignjustify"}
                    ]}
            ],
        });
    </script>

    <script>
        tinymce.init({
            selector: '#detaildes',
            /* width and height of the editor */
            width: "100%",
            height: 600,

            /* display statusbar */
            statusbar: true,

            /* plugin */
            plugins: [
                "advlist autolink link image lists charmap print preview hr anchor pagebreak",
                "searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking",
                "save table contextmenu directionality emoticons template paste textcolor"
            ],

            /* toolbar */
            toolbar: "insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullpage | forecolor backcolor emoticons",

            /* style */
            style_formats: [
                {title: "Headers", items: [
                        {title: "Header 1", format: "h1"},
                        {title: "Header 2", format: "h2"},
                        {title: "Header 3", format: "h3"},
                        {title: "Header 4", format: "h4"},
                        {title: "Header 5", format: "h5"},
                        {title: "Header 6", format: "h6"}
                    ]},
                {title: "Inline", items: [
                        {title: "Bold", icon: "bold", format: "bold"},
                        {title: "Italic", icon: "italic", format: "italic"},
                        {title: "Underline", icon: "underline", format: "underline"},
                        {title: "Strikethrough", icon: "strikethrough", format: "strikethrough"},
                        {title: "Superscript", icon: "superscript", format: "superscript"},
                        {title: "Subscript", icon: "subscript", format: "subscript"},
                        {title: "Code", icon: "code", format: "code"}
                    ]},
                {title: "Blocks", items: [
                        {title: "Paragraph", format: "p"},
                        {title: "Blockquote", format: "blockquote"},
                        {title: "Div", format: "div"},
                        {title: "Pre", format: "pre"}
                    ]},
                {title: "Alignment", items: [
                        {title: "Left", icon: "alignleft", format: "alignleft"},
                        {title: "Center", icon: "aligncenter", format: "aligncenter"},
                        {title: "Right", icon: "alignright", format: "alignright"},
                        {title: "Justify", icon: "alignjustify", format: "alignjustify"}
                    ]}
            ],
        });
    </script>

    <script>
        tinymce.init({
            selector: '#otherdes',
            /* width and height of the editor */
            width: "100%",
            height: 600,

            /* display statusbar */
            statusbar: true,

            /* plugin */
            plugins: [
                "advlist autolink link image lists charmap print preview hr anchor pagebreak",
                "searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking",
                "save table contextmenu directionality emoticons template paste textcolor"
            ],

            /* toolbar */
            toolbar: "insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullpage | forecolor backcolor emoticons",

            /* style */
            style_formats: [
                {title: "Headers", items: [
                        {title: "Header 1", format: "h1"},
                        {title: "Header 2", format: "h2"},
                        {title: "Header 3", format: "h3"},
                        {title: "Header 4", format: "h4"},
                        {title: "Header 5", format: "h5"},
                        {title: "Header 6", format: "h6"}
                    ]},
                {title: "Inline", items: [
                        {title: "Bold", icon: "bold", format: "bold"},
                        {title: "Italic", icon: "italic", format: "italic"},
                        {title: "Underline", icon: "underline", format: "underline"},
                        {title: "Strikethrough", icon: "strikethrough", format: "strikethrough"},
                        {title: "Superscript", icon: "superscript", format: "superscript"},
                        {title: "Subscript", icon: "subscript", format: "subscript"},
                        {title: "Code", icon: "code", format: "code"}
                    ]},
                {title: "Blocks", items: [
                        {title: "Paragraph", format: "p"},
                        {title: "Blockquote", format: "blockquote"},
                        {title: "Div", format: "div"},
                        {title: "Pre", format: "pre"}
                    ]},
                {title: "Alignment", items: [
                        {title: "Left", icon: "alignleft", format: "alignleft"},
                        {title: "Center", icon: "aligncenter", format: "aligncenter"},
                        {title: "Right", icon: "alignright", format: "alignright"},
                        {title: "Justify", icon: "alignjustify", format: "alignjustify"}
                    ]}
            ],
        });
    </script>
    <script>
        $(document).ready(function() {
            $("#image").fileinput({
                overwriteInitial: false,
                validateInitialCount: true,
                initialPreviewAsData: true,
                previewFileType: "image",
                browseClass: "btn btn-success",
                browseLabel: "Chọn hình",
                browseIcon: "<i class=\"bi-file-image\"></i> ",
                removeClass: "btn btn-danger",
                removeLabel: "Xóa",
                removeIcon: "<i class=\"bi-trash\"></i> ",
                uploadClass: "btn btn-info",
                uploadLabel: "Upload hình",
                uploadIcon: "<i class=\"bi-upload\"></i> ",
                initialPreviewConfig: [
                    {caption: $("#image").attr('id'), description: 'This is a representative placeholder description for this image.', size: 576237, width: "120px", url: "/public/assets/estate/1/1/5/1.jpg", key: 1},
                ],
                uploadUrl: "/user/post-product/upload/4",
                theme:'fa',
                language:'vi',
                allowedFileExtensions:['jpg'],
            }).on('fileuploaded', function(e, params) {
                console.log('file uploaded', e, params);
                console.log(params.response.detail);
                location.reload();
            });
        });
        $("#saveImage").click(function (){
            location.reload();
        })

        $("#cancelUploadImage").click(function (){
            $('#imagemodal').modal('hide');
        });
        $("#closebtn").click(function (){
            $('#imagemodal').modal('hide');
        });
    </script>
    <script>
        function imagemodal(url) {
            if (url === 1) {
                $.post("/user/product/url-image", {url: $("#uploadimage1").attr('name')}, function (data, status) {
                    if (data) {
                        $("#image").prop('id',"1.jpg")
                        $('#imagemodal').modal('show');
                    }
                });
            }
            else if (url === 2) {
                $.post("/user/product/url-image", {url: $("#uploadimage2").attr('name')}, function (data, status) {
                    if (data) {
                        $("#image").prop('id',"2.jpg")
                        $('#imagemodal').modal('show');
                    }
                });
            }
            else if (url === 3) {
                $.post("/user/product/url-image", {url: $("#uploadimage3").attr('name')}, function (data, status) {
                    if (data) {
                        $("#image").prop('id',"3.jpg")
                        $('#imagemodal').modal('show');
                    }
                });
            }
        }
    </script>

{{/section}}



